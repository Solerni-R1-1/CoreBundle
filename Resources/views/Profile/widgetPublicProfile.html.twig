{# empty Twig template #}
{% set publicProfilePreferences = user.publicProfilePreferences %}
{% set isProfilShared = publicProfilePreferences.isShared() %}
{% if ( isEditProfilePage is defined and true == isEditProfilePage )  or ( isEditProfilePage is not defined and false == isProfilShared ) %}
    <p class="{% if true == isProfilShared%}hidden {% endif %}slrn-grey-block slrn-info-block" id="user_public_profile_not_visible">
        {{ 'user_public_profile_not_visible'|trans({}, 'platform')|raw }}
    </p>
{% endif %}
{% if isEditProfilePage is defined or ( isEditProfilePage is not defined and true == isProfilShared ) %}
 <div class="slrn-profile-details clearfix profil_visible{% if false == isProfilShared and false != isEditProfilePage %} hidden{% endif %}">
        <aside class="profile_aside slrn-profile-aside pull-left" role="complementary">
            <div class="avatar slrn-profile-avatar">
                {% if user.getPicture() != "" %}
                    <img src="{{ image( 'uploads/pictures/' ~  user.getPicture() ).zoomCrop(150,150) }}" 
                         class="profile_picture" alt="{{ user.getLastName() ~ ' ' ~ user.getFirstName() }}"
                         height="150" width="150"
                         >
                {% else %}
                    <img src="{{ image( 'bundles/clarolinecore/images/avatar.jpg' ).zoomCrop(150,150) }}" 
                         class="profile_picture" alt="{{ user.getLastName() ~ ' ' ~ user.getFirstName() }}"
                         height="150" width="150"
                         >
                {% endif %}
            </div>
        </aside>
        <div class="profile_informations slrn-profile_informations pull-left">
            <ul class="slrn-profile-details-list">
                <li>{{'First name' | trans({}, 'platform') }}: <span class="slrn-bold">{{ user.getFirstName() }}</span></li>
                <li> {{'Last name' | trans({}, 'platform') }}: <span class="slrn-bold">{{ user.getLastName() }}</span></li>
                <li> {{'user_form_username' | trans({}, 'platform') }}: <span class="slrn-bold">{{ user.username() }}</span></li>
                {% if ( isEditProfilePage is defined and true ==  isEditProfilePage ) or ( isEditProfilePage is not defined and true == publicProfilePreferences.displayEmail ) %}
                    <li  {% if false == publicProfilePreferences.displayEmail %}class="hidden"{% endif %} id="display_email">
                        <a class="pink_link" href="mailto://{{ user.getMail }}">
                            {{ user.getMail }}
                        </a>
                        <a class="slrn-icon-profile--arobase slrn-icon-profile" 
                           href="mailto://{{ user.getMail }}" 
                           data-toggle="tooltip" title="{{ 'send_mail'|trans({}, 'platform') }}"></a>
                    </li>
                {% endif %}
                {% if ( isEditProfilePage is defined and true ==  isEditProfilePage ) or ( isEditProfilePage is not defined and true == publicProfilePreferences.allowMessageSending ) %}
                    <li  {% if false == publicProfilePreferences.allowMessageSending %}class="hidden"{% endif %} id="allow_message_sending">
                        <a class="slrn-icon-profile--message slrn-icon-profile" 
                           href="{{path('claro_message_show', {'message': 0})}}?ids[]={{ user.getId() }}" 
                           data-toggle="tooltip" title="{{ 'send_message'|trans({}, 'platform') }}"></a>
                    </li>
                {% endif %}  
            </ul>
             <div class="informations">
                 {% if '' != user.getDescription() %}
                <div class="description_block">
                    <div class="description">
                        {{ user.getDescription() |raw }}
                    </div>
                </div>
            {% endif %}
                <p class="text-muted">
                    {{ 'registered'|trans({}, 'platform') }} {{ user.getCreationDate()| timeAgo }}
                </p>
            </div>
        </div>
     {% endif %}
</div>