{# display session component #}
{% set mooc = session.getMooc() %}
{% if mooc.getCost() == 0 or mooc.getCost() is null %}
    {% set price = 'gratuit' %}
{% else %}
    {% set price = mooc.getCost() ~ '€' %}
{% endif %}
<div class='presentation__mooc presentation__mooc--3-column'>
    {# first column : pic & progression #}
	<div class="presentation__mooc__block presentation__mooc__pic">
			<img class="presentation__mooc__block__image" src="{{ image(mooc.getIllustrationWebPath()).zoomCrop(324,232) }}" alt="{{ mooc.getTitle() }}">
        {% if progression is defined and progression is not null %}
            <span class='presentation__mooc__progression__title'>Ma progression</span>
            <span class='presentation__mooc__progression__wrapper'>
                <span class='presentation__mooc__progression__text londrina-solid'>{{ progression }}%</span>
                <span class='presentation__mooc__progression__100'>
                    <span class='presentation__mooc__progression__xx' style='width:{{ progression }}%'></span>
                </span>
            </span>
        {% endif %}
	</div>
    {# second column : text and button #}
	<div class="presentation__mooc__block presentation__mooc__text">
		<h2 class="presentation__mooc__text__title">
            {{ mooc.getTitle() }}
        </h2>
        <span class="presentation__mooc__text__subtitle">
            {{ 'proposed_by'|trans({}, 'platform') }}
                <a href="{{ path('solerni_owner_catalogue', {'ownerId': mooc.getOwner().getId(), 'ownerName': mooc.getOwner().getName()|slugify()|raw }) }}">
                    {{ mooc.getOwner().getName() }}
                </a>
        </span>
        <div class="presentation__mooc__text__desc">
            {{ mooc.getDescription|textTruncate(25)|raw }}
            <a class="pink_link" href="{{ path( 'mooc_view', { 'moocId': mooc.getId(), 'moocName': mooc.getTitle()|slugify()|raw }) }}">
                {{ 'know_more'|trans({}, 'platform') }}
            </a>
        </div>
        <div class="presentation__mooc__text__button">
            {% include('ClarolineCoreBundle:Mooc:moocSessionButton.html.twig') with { 'session': session } %}
        </div>
	</div>
    {# third column : meta information #}
	<div class="presentation__mooc__block presentation__mooc__meta">
		<span class="presentation__mooc__meta__date">
            <p>Début le {{ session.getStartDate|date('d/m/Y') }}</p>
            <p>Fin le {{ session.getEndDate|date('d/m/Y') }}</p>
        </span>
		<span class="presentation__mooc__meta__badge">
          
                Badgeant
           
        </span>
  		<span class="presentation__mooc__meta__price">

                {% if mooc.getCost() is not defined or mooc.getCost() is empty or mooc.getCost() == 0 %}
                    Mooc gratuit
                {% else %}
                    {{ mooc.getCost() }}&nbsp;€
                {% endif %}

        </span>
	</div>
</div>
